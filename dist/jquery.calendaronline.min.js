/*
 *  calendarOnline - v1.0.0
 *  A simple easy to use online booking/event calendar..
 *  http://www.lukehillonline.co.uk/
 *
 *  Made by Luke Hill
 *  Under MIT License
 */
!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="calendarOnline",g={months:12},h=(moment(),moment().date(),moment().dayOfYear(),moment().month()),i=moment().year();moment().daysInMonth();e.prototype.init=function(){options.months?addMonths(options.months):addMonths(12),options.events&&displayEvents(options.events)},e.prototype.addMonths=function(a){for(var b=0,c=h,d=i,e="";a>b;){var f=moment([d,c]),g=f.clone().startOf("isoWeek").isoWeekday(1);e+=addTitle(f),e+=addDaysOfWeek(),e+=addDaysOfMonth(g,c),11==c?(++d,c=0):++c,++b}displayMonths(e)},e.prototype.addTitle=function(a){return"<p>"+a.format("MMMM YYYY")+"</p>"},e.prototype.addDaysOfWeek=function(){return"<table border=1><thead><tr><td>Mon</td><td>Tues</td><td>Wed</td><td>Thur</td><td>Fri</td><td>Sat</td><td>Sun</td></thead>"},e.prototype.addDaysOfMonth=function(a,b){for(var c="<tbody>",d=0;5>d;d++){c+="<tr>";for(var e=0;7>e;e++)c+='<td data-date="'+a.format("DD-MM-YYYY")+'">',a.month()==b&&(c+=a.format("DD")),c+="</td>",a.add("d",1);c+="</tr>"}return c+="</tr></tbody></table>"},e.prototype.displayMonths=function(a){target.html(a)},e.prototype.displayEvents=function(a){for(var b=0;b<a.length;b++){var c=a[b].startDate,d=a[b].endDate,e=a[b].className;console.log(moment(c,"DD-MM-YYYY"));var f=moment(c,"DD-MM-YYYY").add("days",1);console.log(moment(f,"DD-MM-YYYY")),console.log(moment(d,"DD-MM-YYYY")),console.log(moment(d,"DD-MM-YYYY").diff(moment(c,"DD-MM-YYYY"),"days")),target.find('[data-date="'+c+'"]').addClass(e),target.find('[data-date="'+d+'"]').addClass(e)}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new Plugin(this,b))})}}(jQuery,window,document);