/*
 *  calendarOnline - v1.0.0
 *  A simple easy to use online booking/event calendar..
 *  http://www.lukehillonline.co.uk/
 *
 *  Made by Luke Hill
 *  Under MIT License
 */
!function(a,b,c,d){function e(b,c){this.element=a(b),this._name=f,this._defaults=a.fn.calendarOnline.defaults,this.options=a.extend({},this._defaults,c),this.init()}var f="calendarOnline";a.extend(e.prototype,{now:moment(),date:moment().date(),dayOfYear:moment().dayOfYear(),month:moment().month(),year:moment().year(),daysInMonth:moment().daysInMonth(),init:function(){this.options.months?this.addMonths(this.options.months):this.addMonths(12),this.options.events&&this.displayEvents(this.options.events)},addMonths:function(a){for(var b=0,c=this.month,d=this.year,e="";a>b;){var f=moment([d,c]),g=f.clone().startOf("isoWeek").isoWeekday(1);e+=this.addTitle(f),e+=this.addDaysOfWeek(),e+=this.addDaysOfMonth(g,c),11==c?(++d,c=0):++c,++b}this.displayMonths(e)},addTitle:function(a){return"<p>"+a.format("MMMM YYYY")+"</p>"},addDaysOfWeek:function(){return"<table border=1><thead><tr><td>Mon</td><td>Tues</td><td>Wed</td><td>Thur</td><td>Fri</td><td>Sat</td><td>Sun</td></thead>"},addDaysOfMonth:function(a,b){for(var c="<tbody>",d=0;5>d;d++){c+="<tr>";for(var e=0;7>e;e++)c+='<td data-date="'+a.format("DD-MM-YYYY")+'">',a.month()==b&&(c+=a.format("DD")),c+="</td>",a.add("d",1);c+="</tr>"}return c+="</tr></tbody></table>"},displayMonths:function(a){this.element.html(a)},displayEvents:function(a){for(var b=0;b<a.length;b++){var c=a[b].startDate,d=a[b].endDate,e=a[b].className;moment(c,"DD-MM-YYYY").add("days",1);this.element.find('[data-date="'+c+'"]').addClass(e),this.element.find('[data-date="'+d+'"]').addClass(e)}}}),a.fn.calendarOnline=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}),this},a.fn.calendarOnline.defaults={months:12}}(jQuery,window,document);